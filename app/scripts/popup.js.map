{"version":3,"sources":["../scripts.babel/popup.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;AAGb,IAAI,IAAI,CAAC;;;;;AAKT,SAAS,IAAI,GAAG;;;AAGd,UAAM,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC;AACtB,qBAAa,EAAE,EAAE;KAClB,EAAE,UAAS,KAAK,EAAE;;;AAGjB,YAAI,GAAI,KAAK,CAAC,aAAa,CAAC;;;AAG5B,YAAG,IAAI,CAAC,MAAM,GAAG,CAAC,EAClB;AACI,oBAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,SAAS,GAAG,MAAM,CAAC;;;AAGpD,oBAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;AACtE,oBAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;SACjF;;aAEI,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,SAAS,GAAG,MAAM,CAAC;KAE5D,CAAC,CAAC;CAEJ;;;AAGD,SAAS,OAAO,GAAG;;;AAGf,UAAM,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,EAAE;;;AAGlC,YAAI,OAAO,GAAG;AACV,2BAAe,EAAE,IAAI;AACrB,iBAAK,EAAE,GAAG,CAAC,GAAG;SACjB,CAAC;;;AAGF,YAAI,KAAK,GAAG,IAAI,cAAc,EAAE,CAAC;AACjC,aAAK,CAAC,IAAI,CAAC,MAAM,EAAE,kCAAkC,EAAE,IAAI,CAAC,CAAC;;AAE7D,aAAK,CAAC,IAAI,CAAC,OAAO,EAAE,YAAW;;;AAG3B,gBAAI,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;AAC/C,kBAAM,CAAC,WAAW,GAAG,UAAU,CAAC;AAChC,sBAAU,CAAC,YAAW;AACpB,sBAAM,CAAC,WAAW,GAAG,EAAE,CAAC;aAC3B,EAAE,IAAI,CAAC,CAAC;SACV,CAAC,CAAC;KACN,CAAC,CAAC;CACN;;;AAGD,SAAS,WAAW,GAAG;;;AAGnB,UAAM,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,EAAE;;;AAG9B,aAAI,GAAG,IAAI,IAAI,EACf;;AAEI,gBAAI,OAAO,GAAG;AACV,+BAAe,EAAE,IAAI;AACrB,qBAAK,EAAE,GAAG,CAAC,GAAG;aACjB,CAAC;;;AAGF,gBAAI,KAAK,GAAG,IAAI,cAAc,EAAE,CAAC;AACjC,iBAAK,CAAC,IAAI,CAAC,MAAM,EAAE,kCAAkC,EAAE,IAAI,CAAC,CAAC;;AAE7D,iBAAK,CAAC,IAAI,CAAC,OAAO,EAAE,YAAW;;AAE3B,oBAAG,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAC1C;;;AAGI,wBAAI,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;AAC/C,0BAAM,CAAC,WAAW,GAAG,mBAAmB,CAAC;AACzC,8BAAU,CAAC,YAAW;AACpB,8BAAM,CAAC,WAAW,GAAG,EAAE,CAAC;qBAC3B,EAAE,IAAI,CAAC,CAAC;iBACV;aACJ,CAAC,CAAC;SACN;KACJ,CAAC,CAAC;CACN;;;AAGD,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC","file":"popup.js","sourcesContent":["'use strict';\n\n//Declare the code variable\nvar code;\n\n// Restores the chrome extension code\n// stored in chrome.storage.\n//Also bind our clicks and things\nfunction init() {\n\n  // Use default value of nothing\n  chrome.storage.sync.get({\n    extensionCode: ''\n  }, function(items) {\n\n    //In this call back, set the code to the retrieved value\n    code =  items.extensionCode;\n\n    //if we have a code show the stuff\n    if(code.length > 0)\n    {\n        document.getElementById(\"sorry\").className = \"hide\";\n\n        //bind our button clicks\n        document.getElementById('saveTab').addEventListener('click', saveTab);\n        document.getElementById('saveAllTabs').addEventListener('click', saveAllTabs);\n    }\n    //if not, tell them to\n    else document.getElementById(\"buttons\").className = \"hide\";\n\n  });\n\n}\n\n//Save the current tab\nfunction saveTab() {\n\n    //Get the current tab url\n    chrome.tabs.getCurrent(function (tab) {\n\n        //Callback, create the payload\n        var payload = {\n            \"extensionCode\": code,\n            \"url\": tab.url\n        };\n\n        // construct an HTTP request\n        var xhttp = new XMLHttpRequest();\n        xhttp.open(\"POST\", \"http://srv.kondeo.com:3000/dumps\", true);\n\n        xhttp.send(payload, function() {\n            // Update status to let user know options were saved.\n            //Timeout the div after it is displayed\n            var status = document.getElementById('status');\n            status.textContent = 'Dropped!';\n            setTimeout(function() {\n              status.textContent = '';\n          }, 2000);\n        });\n    });\n}\n\n//Save all of the tabs\nfunction saveAllTabs() {\n\n    //Get the current tab url\n    chrome.tabs.query(function (tabs) {\n\n        //Loop through every tab\n        for(tab in tabs)\n        {\n            //Callback, create the payload\n            var payload = {\n                \"extensionCode\": code,\n                \"url\": tab.url\n            };\n\n            // construct an HTTP request\n            var xhttp = new XMLHttpRequest();\n            xhttp.open(\"POST\", \"http://srv.kondeo.com:3000/dumps\", true);\n\n            xhttp.send(payload, function() {\n                //Dropped all tabs should be displayed once\n                if(tab.index = tabs[tabs.length - 1].index)\n                {\n                    // Update status to let user know options were saved.\n                    //Timeout the div after it is displayed\n                    var status = document.getElementById('status');\n                    status.textContent = 'Dropped All Tabs!';\n                    setTimeout(function() {\n                      status.textContent = '';\n                  }, 2000);\n                }\n            });\n        }\n    });\n}\n\n// Initialize on page load\ndocument.addEventListener('DOMContentLoaded', init);\n"]}